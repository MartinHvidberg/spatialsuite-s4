<?xml version="1.0" encoding="UTF-8"?>
<tool type="plugin">
    <requires>
    [if: ModuleDefined("s4") ]
    	<include src="[module:s4.dir]/tools/s4-requires.xml" nodes="/tool/requires/*" mustexist="true"/>
	[endif]
   </requires>
    <jssrc/>
    <src><![CDATA[
    [if: ModuleDefined("s4") ]
		var s4InfoButtonCaption = cbInfo.getString('s4.infobutton.caption');
		var _s4InfoUri = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAUAAAAFACjOyrRAAAB3ElEQVQ4y63UPWgUQRQH8P+b2fPACOcXgncQsNjbRg9u75LdwzRGUALCYauFWNvYpTSaLlUK09ppk8pOxCZVZiU3inqSvQghgkUqcwQSk2PnWeSKzX0kc+KDKWbmzY/3htkF/nNQ74JXnqxCyGuDkhOY9o9G9N4adP3gMYFenVLEXEur58M2RY9/26KruaIfPrMCBfdfwaiosASsUQuQdwC8Oxq804t6fu2pNcjAwl5W5FtazbS0mtnLijwDC8eTeMISpKUNrWbHOmLc9WuLrl9bHOuI8Q2tZgFaGnoqPfHK4WsmPACQdDJcEMackYn8CiDXTWknMrlhhDjMdOgXAEmMN/En9fCUCmlrM4q2ZeLUUxgA5GTi1DejaBuEn4NODgH53FH5/Lu/pe4a84URQFwpVmuTzsHuMgErqftZcQ52l71qeBOg86OAgOGXUspMrNU0CUyRwFSs1XSz2Twkw38AtEcDgYl956zyyuE9ZOUXEmbdLQf3i37wZF1HDQi6Mwh1TgBBwHUmvMV+AoYAdd+EVwkuxmur824lvMuMR0NBQ2Cbj5mZXniVAHFDzZdKpW/pPZmeXLpayBGobmECoFuX8wXz/bP+0NPV8TjpB9tXKWGrtbb60a6Af4y//rOdIv5OzGsAAAAASUVORK5CYII=";
		var _s4PrintUri = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAUAAAAFACjOyrRAAABEUlEQVQ4y92RO07DUBBFz4ytLIPOCaUdIbDSsQEvAGroqdgCqehJTUlDxQJQZD6K3RJLILELiuehIeHj5yixKBC3vPPu0cx98NclPnOQpKfrhJ+KfPzTC30PTThbc6EGUH/75NBvy3NX4LcOo3gUa2DRJoDaSVWV07IB7A/TC+Co42KT+Sw/XgKjeBSL1kWH+8YYu8C+1ZpU5bRUABG33Wkvp1cGD18ZIYCpqphtDtT6ftGZqeoS6L+GV4O7ltmewZZv1grEuJ0X+aFvNEjSS4QD79KduluhEKDX48a92c7CrJHHtSrkMxP05OWjjqb6w9QMriVwJ942XHAukM1neSO/6lMyXJC1zFaf7EmM+bd6B6bIR9G+EvlcAAAAAElFTkSuQmCC";
		var s4PrintButtonCaption = "Print";
    
		var s4InfoButtonDef = {"buttonText": s4InfoButtonCaption, "buttonImage": _s4InfoUri, "callBack": s4DoInfo};
		
		var s4PrintButtonDef = {"buttonText": s4PrintButtonCaption, "buttonImage": _s4PrintUri,"callBack": s4DoPrint};	
		
		function addS4SpatialMapTools(paramEntry){
		    if (paramEntry.info){
		    	paramEntry.searcher.addCustomButtonDef(s4InfoButtonDef);
		    }
		    if (_s4Params.view.printconfig && paramEntry.print){
		    	paramEntry.searcher.addCustomButtonDef(s4PrintButtonDef);
		    }
		}
			
		addS4SpatialMapTools(_s4Params.dawasearcher);
		addS4SpatialMapTools(_s4Params.geosearcher);
		addS4SpatialMapTools(_s4Params.cvrsearcher);
		addS4SpatialMapTools(_s4Params.plansearcher);
		addS4SpatialMapTools(_s4Params.indexsearcher);
	
	[endif]
    ]]>
    </src>
</tool>
